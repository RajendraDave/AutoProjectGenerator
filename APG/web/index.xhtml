<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Auto Project Generator</title>
        <style>
            .order-table{   
                border-collapse:collapse;
            }
        </style>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"></link>
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"></link>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    </h:head>
    <h:body>
        <h:form id="web_form">
            <p:tabView id="main_tab" style="padding-right: 10px;">
                <p:tab title="Sample Boiler Plates">
                    <p:dataTable style="width: 100%;" styleClass="order-table text-center table table-hover"
                                 rowIndexVar="index" rows="10"
                                 paginator="true" paginatorAlwaysVisible="false" 
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 rowsPerPageTemplate="5,10,15"
                                 value="#{autoProjectGenerator.frameworkList.entrySet().toArray()}" 
                                 var="framework">
                        
                        <p:column headerText="Sr No.">#{index + 1}</p:column>
                        <p:column style="text-transform: capitalize;" headerText="Framework">#{framework.key}</p:column>
                        <p:column headerText="Action"><h:commandLink action="#{autoProjectGenerator.download(framework.value)}"><i class="fa fa-download"></i></h:commandLink></p:column>
                    </p:dataTable>
                </p:tab>
                <p:tab title="Build Projects">
                    <p:selectOneMenu label="Front End Framework:" value="#{autoProjectGenerator.frontEndFramework}">
                        <p:ajax event="change" listener="#{autoProjectGenerator.called}" update="web_form:main_tab:frontEndAppTitle"></p:ajax>
                        <f:selectItem itemLabel="--Select--" itemValue=""></f:selectItem>
                        <f:selectItems value="#{autoProjectGenerator.frontEndFrameworks}"></f:selectItems>
                    </p:selectOneMenu>
                    
                    <p:inputText id="frontEndAppTitle" label="Frond End Application Title:" value="#{autoProjectGenerator.frontEndAppName}" rendered="#{not empty autoProjectGenerator.frontEndFramework}"></p:inputText>
                    
                    <p:selectOneMenu label="Back End Framework:" value="#{autoProjectGenerator.backEndFramework}" rendered="#{autoProjectGenerator.frontEndFramework eq 'angular'}">
                        <p:ajax event="change" update="web_form:main_tab:backEndAppTitle"></p:ajax>
                        <f:selectItem itemLabel="--Select--" itemValue=""></f:selectItem>
                        <f:selectItems value="#{autoProjectGenerator.backEndFrameworks}"></f:selectItems>
                    </p:selectOneMenu>
                    <p:inputText id="backEndAppTitle" label="Back End Application Title:" value="#{autoProjectGenerator.backEndAppName}" rendered="#{not empty autoProjectGenerator.backEndFramework}"></p:inputText>
                    
                    <p:selectOneMenu label="Rest Services" value="#{autoProjectGenerator.service}">
                        <p:ajax event="change" update="web_form:main_tab:serviceAppTitle"></p:ajax>
                        <f:selectItem itemLabel="--Select--" itemValue=""></f:selectItem>
                        <f:selectItems value="#{autoProjectGenerator.services}"></f:selectItems>
                    </p:selectOneMenu>
                    <p:inputText id="serviceAppTitle" value="#{autoProjectGenerator.serviceAppName}" rendered="#{not empty autoProjectGenerator.service}"></p:inputText>
                </p:tab>
            </p:tabView>
            
        </h:form>
    </h:body>
</html>

