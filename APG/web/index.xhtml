<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Auto Project Generator</title>
        <style>
            .order-table{   
                border-collapse:collapse;
            }
        </style>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"></link>
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"></link>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    </h:head>
    <h:body>
        <h:form id="web_form">
            <p:tabView id="main_tab" style="padding-right: 10px;">
                <p:tab title="Sample Boiler Plates">
                    <p:dataTable style="width: 100%;" styleClass="order-table text-center table table-hover"
                                 rowIndexVar="index" rows="10"
                                 paginator="true" paginatorAlwaysVisible="false" 
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 rowsPerPageTemplate="5,10,15"
                                 value="#{autoProjectGenerator.frameworkList.entrySet().toArray()}" 
                                 var="framework">
                        
                        <p:column headerText="Sr No.">#{index + 1}</p:column>
                        <p:column style="text-transform: capitalize;" headerText="Framework">#{framework.key}</p:column>
                        <p:column headerText="Action"><h:commandLink action="#{autoProjectGenerator.download(framework.value)}"><i class="fa fa-download"></i></h:commandLink></p:column>
                    </p:dataTable>
                </p:tab>
                <p:tab title="Build Projects">
                    <p:panel id="build_projects" style="border: 0;display: grid;">
                        <div class="form-row">
                            <div class="form-group">
                                <p:outputLabel for="frontEnd">Front End Framework</p:outputLabel>
                                <p:selectOneMenu id="frontEnd" styleClass="form-control" value="#{autoProjectGenerator.frontEndFramework}">
                                    <p:ajax event="change" update="web_form:main_tab:build_projects"></p:ajax>
                                    <f:selectItem itemLabel="--Select--" itemValue=""></f:selectItem>
                                    <f:selectItems value="#{autoProjectGenerator.frontEndFrameworks}"></f:selectItems>
                                </p:selectOneMenu>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <p:outputLabel id="frontEndAppLabel" for="frontEndAppTitle" rendered="#{not empty autoProjectGenerator.frontEndFramework}">Frond End Application Title</p:outputLabel>
                                <p:inputText id="frontEndAppTitle" styleClass="form-control" value="#{autoProjectGenerator.frontEndAppName}" rendered="#{not empty autoProjectGenerator.frontEndFramework}"></p:inputText>
                            </div>

                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <p:outputLabel id="backEndTitle" for="backEnd" rendered="#{autoProjectGenerator.frontEndFramework eq 'angular'}">Back End Framework</p:outputLabel>
                                <p:selectOneMenu id="backEnd" styleClass="form-control" value="#{autoProjectGenerator.backEndFramework}" rendered="#{autoProjectGenerator.frontEndFramework eq 'angular'}">
                                    <p:ajax event="change" update="web_form:main_tab:build_projects"></p:ajax>
                                    <f:selectItem itemLabel="--Select--" itemValue=""></f:selectItem>
                                    <f:selectItems value="#{autoProjectGenerator.backEndFrameworks}"></f:selectItems>
                                </p:selectOneMenu>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <p:outputLabel for="backEndAppTitle" rendered="#{not empty autoProjectGenerator.backEndFramework}">Back End Application Title</p:outputLabel>
                                <p:inputText id="backEndAppTitle" styleClass="form-control" value="#{autoProjectGenerator.backEndAppName}" rendered="#{not empty autoProjectGenerator.backEndFramework}"></p:inputText>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <p:outputLabel for="service">Rest Services</p:outputLabel>
                                <p:selectOneMenu id="service" styleClass="form-control" value="#{autoProjectGenerator.service}">
                                    <p:ajax event="change" update="web_form:main_tab:build_projects"></p:ajax>
                                    <f:selectItem itemLabel="--Select--" itemValue=""></f:selectItem>
                                    <f:selectItems value="#{autoProjectGenerator.services}"></f:selectItems>
                                </p:selectOneMenu>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <p:outputLabel for="serviceAppTitle" rendered="#{not empty autoProjectGenerator.service}">Service App Name</p:outputLabel>
                                <p:inputText id="serviceAppTitle" styleClass="form-control" value="#{autoProjectGenerator.serviceAppName}" rendered="#{not empty autoProjectGenerator.service}"></p:inputText>
                            </div>
                        </div>
                        <div class="form-row">
                            <h:commandButton class="btn btn-primary" value="build" action="#{autoProjectGenerator.buildProject}"></h:commandButton>
                        </div>
                    </p:panel>
                </p:tab>
            </p:tabView>
            
        </h:form>
    </h:body>
</html>

